---
title: 恢复到 ObjectContext 中实体框架设计器的 EF6
author: divega
ms.date: 2016-10-23
ms.prod: entity-framework
ms.author: divega
ms.manager: avickers
ms.technology: entity-framework-6
ms.topic: article
ms.assetid: 36550569-a1de-47cb-ba6d-544794ffd500
caps.latest.revision: 3
ms.openlocfilehash: 17fa6538cf5e92f59ab72376af96ad65c640a085
ms.sourcegitcommit: f05e7b62584cf228f17390bb086a61d505712e1b
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/08/2018
ms.locfileid: "39120349"
---
# <a name="reverting-to-objectcontext-in-entity-framework-designer"></a><span data-ttu-id="c4851-102">恢复到 ObjectContext 中实体框架设计器</span><span class="sxs-lookup"><span data-stu-id="c4851-102">Reverting to ObjectContext in Entity Framework Designer</span></span>
<span data-ttu-id="c4851-103">与以前版本的 Entity Framework 使用 EF 设计器创建的模型将生成派生自 ObjectContext 的上下文和从 entityobject 继承派生的实体类。</span><span class="sxs-lookup"><span data-stu-id="c4851-103">With previous version of Entity Framework a model created with the EF Designer would generate a context that derived from ObjectContext and entity classes that derived from EntityObject.</span></span>

<span data-ttu-id="c4851-104">从 EF4.1 建议交换到生成派生自 DbContext 和 POCO 实体类的上下文的代码生成模板。</span><span class="sxs-lookup"><span data-stu-id="c4851-104">Starting with EF4.1 we recommended swapping to a code generation template that generates a context deriving from DbContext and POCO entity classes.</span></span>

<span data-ttu-id="c4851-105">在 Visual Studio 2012 中获取默认情况下，所有新创建的模型使用 EF 设计器生成的 DbContext 代码。</span><span class="sxs-lookup"><span data-stu-id="c4851-105">In Visual Studio 2012 you get DbContext code generated by default for all new models created with the EF Designer.</span></span> <span data-ttu-id="c4851-106">现有模型将继续生成基于 ObjectContext 代码，除非你决定切换到 DbContext 基于代码生成器。</span><span class="sxs-lookup"><span data-stu-id="c4851-106">Existing models will continue to generate ObjectContext based code unless you decide to swap to the DbContext based code generator.</span></span>

## <a name="reverting-back-to-objectcontext-code-generation"></a><span data-ttu-id="c4851-107">恢复到 ObjectContext 代码生成</span><span class="sxs-lookup"><span data-stu-id="c4851-107">Reverting Back to ObjectContext Code Generation</span></span>

### <a name="1-disable-dbcontext-code-generation"></a><span data-ttu-id="c4851-108">1.禁用 DbContext 代码生成</span><span class="sxs-lookup"><span data-stu-id="c4851-108">1. Disable DbContext Code Generation</span></span>

<span data-ttu-id="c4851-109">派生的 DbContext 和 POCO 类生成由你的项目中的两个.tt 文件，如果展开.edmx 文件在解决方案资源管理器中的会看到这些文件。</span><span class="sxs-lookup"><span data-stu-id="c4851-109">Generation of the derived DbContext and POCO classes is handled by two .tt files in you project, if you expand the .edmx file in solution explorer you will see these files.</span></span> <span data-ttu-id="c4851-110">从项目中删除这两个文件。</span><span class="sxs-lookup"><span data-stu-id="c4851-110">Delete both of these files from your project.</span></span>

![CodeGenFiles](~/ef6/media/codegenfiles.png)

<span data-ttu-id="c4851-112">如果使用 VB.NET 将需要选择**显示所有文件**按钮以查看嵌套的文件。</span><span class="sxs-lookup"><span data-stu-id="c4851-112">If you are using VB.NET you will need to select the **Show All Files** button to see the nested files.</span></span>

![ShowAllFiles](~/ef6/media/showallfiles.png)

### <a name="2-re-enable-objectcontext-code-generation"></a><span data-ttu-id="c4851-114">2.重新启用 ObjectContext 代码生成</span><span class="sxs-lookup"><span data-stu-id="c4851-114">2. Re-Enable ObjectContext Code Generation</span></span>

<span data-ttu-id="c4851-115">打开模型在 EF 设计器中，右击设计图面并选择一个空白部分**属性**。</span><span class="sxs-lookup"><span data-stu-id="c4851-115">Open you model in the EF Designer, right-click on a blank section of the design surface and select **Properties**.</span></span>

<span data-ttu-id="c4851-116">在属性窗口中更改**代码生成策略**从**None**到**默认**。</span><span class="sxs-lookup"><span data-stu-id="c4851-116">In the Properties window change the **Code Generation Strategy** from **None** to **Default**.</span></span>

![CodeGenStrategy](~/ef6/media/codegenstrategy.png)
